(function(t,e,n){const o=t.screen;const a=encodeURIComponent;const i=Math.max;const r=t.performance;const s="getEntriesByType"in r&&"getEntriesByName"in r;const c=t=>isNaN(t)||t==Infinity||t<0?void 0:t;const d=t=>Math.random().toString(36).slice(-t);const l=t=>Math.ceil(Math.random()*(t-1))+1;const g=t=>r.getEntriesByName(t);const m=t=>r.getEntriesByType(t);const p=n=>{(function(t,e,n,o,a){t["GoogleAnalyticsObject"]=a;t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)};t[a].l=1*new Date;var i=e.createElement(n);first_element=e.getElementsByTagName(n)[0];i.async=true;i.src=o;first_element.parentNode.insertBefore(i,first_element)})(t,e,"script","https://www.google-analytics.com/analytics.js","ga");ga("create",n,"auto");ga("send","pageview")};const u=s?m("navigation")[0]:r.timing;const h=s?u.startTime:u.navigationStart;function f(){var r=[d(l(4))+"="+d(l(6)),"ga="+t.ga_tid,"dt="+a(e.title),"de="+a(e.characterSet||e.charset),"dr="+a(e.referrer),"ul="+(n.language||n.browserLanguage||n.userLanguage),"sd="+o.colorDepth+"-bit","sr="+o.width+"x"+o.height,"vp="+i(e.documentElement.clientWidth,t.innerWidth||0)+"x"+i(e.documentElement.clientHeight,t.innerHeight||0),"plt="+c(u.loadEventStart-h||0),"dns="+c(u.domainLookupEnd-u.domainLookupStart||0),"pdt="+c(u.responseEnd-u.responseStart||0),"rrt="+c(u.redirectEnd-u.redirectStart||0),"tcp="+c(u.connectEnd-u.connectStart||0),"srt="+c(u.responseStart-u.requestStart||0),"dit="+c(u.domInteractive-u.domLoading||0),"clt="+c(u.domContentLoadedEventStart-h||0),"z="+Date.now()];if(s){r.push("fp="+c(g("first-paint")[0].startTime||0));r.push("fcp="+c(g("first-contentful-paint")[0].startTime||0))}if(/(?:localhost|127\.0\.0\.1)/.test(location.hostname)){console.log("Disabled Google Analytics because in preview mode")}else{fetch(`${t.ga_api}?${r.join("&")}`,{mode:"no-cors",credentials:"include"}).catch((e=>{p(t.ga_tid);console.error("Failed to Connect Baoshuo's Google Analytics API:\n",e)}))}}t.cfga=f;if(e.readyState==="complete"){f()}else{t.addEventListener("load",f)}})(window,document,navigator);